<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>3D Drum Roll Projects</title>
  <style>
    body {
      margin: 0;
      background: #000;
      color: #0f0;
      font-family: Arial, sans-serif;
      height: 100vh;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      perspective: 500px;
    }
    #container {
      height: 120px;
      width: 300px;
      position: relative;
      overflow: visible;
    }
    ul {
      list-style: none;
      margin: 0;
      padding: 0;
      height: 120px;
      width: 100%;
      position: relative;
      transform-style: preserve-3d;
      animation: none;
      user-select: none;
      perspective: 500px;
      overflow: visible;
    }
    li {
      position: absolute;
      left: 50%;
      width: 100%;
      text-align: center;
      font-size: 2rem;
      color: #0f0;
      font-weight: 700;
      transform-style: preserve-3d;
      transition: transform 0.5s cubic-bezier(.77,0,.18,1), opacity 0.5s cubic-bezier(.77,0,.18,1);
      pointer-events: none;
      opacity: 0.4;
    }
    li.center {
      opacity: 1;
      font-size: 2.2rem;
      color: #0f0;
      z-index: 2;
    }
    li span.type {
      font-size: 1rem;
      opacity: 0.7;
      margin-left: 8px;
      font-weight: 400;
    }
    /* Positions for 3 items: above, center, below */
    li.above {
      top: 10px;
      transform: translateX(-50%) translateZ(-60px) rotateX(30deg);
      opacity: 0.5;
      font-size: 1.3rem;
      color: #0a0;
    }
    li.center {
      top: 50%;
      transform: translateX(-50%) translateY(-50%) translateZ(0) rotateX(0deg);
      opacity: 1;
      font-size: 2.2rem;
      color: #0f0;
    }
    li.below {
      top: 90px;
      transform: translateX(-50%) translateZ(-60px) rotateX(-30deg);
      opacity: 0.5;
      font-size: 1.3rem;
      color: #0a0;
    }
    footer {
      position: absolute;
      bottom: 20px;
      color: #0f0;
      font-size: 0.9rem;
    }
  </style>
</head>
<body>
  <div id="container">
    <ul id="projectList">
      <!-- Items injected by JS -->
    </ul>
  </div>
  <footer>Developed by Aswat ¬© <span id="year"></span></footer>

  <script>
    const projects = [
      { name: "NeuralMesh CLI", type: "Software" },
      { name: "Smart Irrigation Controller", type: "Hardware" },
      { name: "CloudSync Dashboard", type: "Software" },
      { name: "Wearable EEG Device", type: "Hardware" },
    ];

    const emojis = {
      Software: "üåê",
      Hardware: "üî©",
    };

    const list = document.getElementById("projectList");
    let currentIndex = 0;
    const visibleCount = 5; // Number of items visible on the wheel
    const itemAngle = 40; // Degrees between items (360/9 for 9 items, adjust for spacing)

    function render() {
      list.innerHTML = "";
      const len = projects.length;
      for (let i = 0; i < len; i++) {
        // Calculate relative position
        let rel = ((i - currentIndex + len) % len);
        if (rel > len / 2) rel -= len; // Shortest path
        // Only render visible items
        if (Math.abs(rel) > Math.floor(visibleCount / 2)) continue;
        const li = document.createElement("li");
        li.textContent = `${emojis[projects[i].type]} ${projects[i].name} `;
        const span = document.createElement("span");
        span.className = "type";
        span.textContent = `(${projects[i].type})`;
        li.appendChild(span);
        // 3D transform
        const angle = rel * itemAngle;
        const z = -60 * Math.abs(rel); // Depth
        li.style.transform = `translateX(-50%) translateY(-50%) rotateX(${angle}deg) translateZ(${z}px)`;
        li.style.top = "50%";
        li.style.opacity = rel === 0 ? "1" : "0.4";
        li.className = rel === 0 ? "center" : "";
        list.appendChild(li);
      }
    }

    function rotate(dir = 1) {
      currentIndex = (currentIndex + dir + projects.length) % projects.length;
      render();
    }

    // Mouse/touch drag support
    let startY = null;
    let dragging = false;
    list.addEventListener("mousedown", e => {
      dragging = true;
      startY = e.clientY;
    });
    document.addEventListener("mousemove", e => {
      if (!dragging) return;
      const delta = e.clientY - startY;
      if (Math.abs(delta) > 30) {
        rotate(delta > 0 ? 1 : -1);
        startY = e.clientY;
      }
    });
    document.addEventListener("mouseup", () => dragging = false);
    // Touch support
    list.addEventListener("touchstart", e => {
      dragging = true;
      startY = e.touches[0].clientY;
    });
    document.addEventListener("touchmove", e => {
      if (!dragging) return;
      const delta = e.touches[0].clientY - startY;
      if (Math.abs(delta) > 30) {
        rotate(delta > 0 ? 1 : -1);
        startY = e.touches[0].clientY;
      }
    });
    document.addEventListener("touchend", () => dragging = false);

    render();
    setInterval(() => rotate(1), 2500);

    document.getElementById("year").textContent = new Date().getFullYear();
  </script>
</body>
</html>
